<head>
  <style type="text/css">
      .tableFloatingHeaderOriginal th {
          background-color: #fff;
          border-bottom: 1px solid #DDD;
      }
  </style>
</head>
<h1>Java Posse Roundup 2014</h1>
<table class="table table-bordered table-striped">
  <thead>
  <tr>
    <th>Day/Time</th>
    <% @rooms.each do |room| %>
    <th><%= room %></th>
    <% end %>
  </tr>
  </thead>
  <% @timegroups.each do |timegroup| %>
      <tr>
        <td><%= (f = timegroup[1].first; f.start_time.strftime("%A %I:%M%p - ") + f.end_time.strftime("%I:%M%p")) %></td>
        <% @roomgroups = timegroup[1].group_by(&:room) %>
        <% @rooms.each do |room| %>
            <td><%= if @roomgroups[room]
                      if @roomgroups[room].first.available
                        'available' # Color the cell green instead
                      else
                        'unavailable' # Color the cell black instead
                      end
                    end %>
            </td>
        <% end %>
      </tr>
  <% end %>
</table>
<script>
    var offset = $('.navbar').height();
    $("html:not(.legacy) table").stickyTableHeaders({fixedOffset: offset});
</script>
